(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{15203:function(e,n,t){Promise.resolve().then(t.bind(t,6163))},6163:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(57437),a=t(2265),i=t(62427),o=t(28874),s=t(29872),c=t(43226),l=t(29125),u=t(35551),m=t(71045),d=t(24033);function h(){let e=(0,d.useRouter)(),n=new i.L,[t,h]=(0,a.useState)({name:"",email:"",location:"",cellphone:""}),x=e=>{let n=e.currentTarget.name,t=e.currentTarget.value;h(e=>({...e,[n]:t}))},f=async()=>{if(!t.name)return alert("Informe um nome valido");let r=await n.registerNewUser(t);r.isOk?e.push("/"):alert(r.msg)};return(0,r.jsx)(o.ZP,{container:!0,alignItems:"center",justifyContent:"center",minHeight:"100vh",children:(0,r.jsx)(o.ZP,{item:!0,xs:!0,children:(0,r.jsxs)(m.l,{onSubmit:f,children:[(0,r.jsxs)(o.ZP,{maxWidth:600,px:6,pt:0,pb:5,component:s.Z,variant:"outlined",sx:{borderRadius:"50px"},mx:"auto",width:"90%",container:!0,rowSpacing:3,direction:"column",children:[(0,r.jsx)(o.ZP,{container:!0,item:!0,xs:12,mx:"auto",justifyContent:"center",children:(0,r.jsx)(c.Z,{fontWeight:700,fontSize:40,color:"textSecondary",children:"Cadastrar"})}),(0,r.jsx)(o.ZP,{container:!0,item:!0,direction:"row",children:(0,r.jsx)(o.ZP,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:(0,r.jsx)(l.Z,{fullWidth:!0,name:"name",label:"Nome:",value:t.name,onChange:x})})}),(0,r.jsx)(o.ZP,{container:!0,item:!0,direction:"row",children:(0,r.jsx)(o.ZP,{xs:12,item:!0,children:(0,r.jsx)(l.Z,{fullWidth:!0,name:"email",label:"E-mail:",value:t.email,onChange:x})})}),(0,r.jsx)(o.ZP,{container:!0,item:!0,direction:"row",children:(0,r.jsx)(o.ZP,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:(0,r.jsx)(l.Z,{fullWidth:!0,name:"location",label:"Localiza\xe7\xe3o:",value:t.location,onChange:x})})}),(0,r.jsx)(o.ZP,{container:!0,item:!0,direction:"row",children:(0,r.jsx)(o.ZP,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:(0,r.jsx)(l.Z,{fullWidth:!0,name:"cellphone",label:"Whatsapp para contato:",value:t.cellphone,onChange:x})})}),(0,r.jsx)(o.ZP,{xs:12,mx:"auto",justifyContent:"space-between",container:!0,item:!0,children:(0,r.jsx)(o.ZP,{xs:12,item:!0,children:(0,r.jsx)(u.Z,{type:"submit",children:"Cadastrar"})})})]}),(0,r.jsx)(o.ZP,{item:!0})]})})})}},62427:function(e,n,t){"use strict";t.d(n,{L:function(){return u}});var r=t(51872),a=t(20994),i=t(42307),o=t(62601);let s={apiKey:o.env.FIREBASE_API_KEY,authDomain:"corre-brasil.firebaseapp.com",databaseURL:"https://corre-brasil-default-rtdb.firebaseio.com",projectId:"corre-brasil",storageBucket:"corre-brasil.appspot.com",messagingSenderId:"888748109483",appId:"1:888748109483:web:687bb797e5f03e903311ee"},c=(0,a.ZF)(s),l=(0,i.N8)(c);class u{async getUsersData(){let e=(0,i.iH)(l,"users/");return new Promise((n,t)=>{try{(0,i.jM)(e,e=>{let t=e.val();t?n(t):n([])})}catch(e){console.log("error in getUserData of user_api:",e),t("Algum erro aconteceu ao fazer o fetch dos usuarios")}})}async registerNewUser(e){let n=(0,r.Z)();return new Promise((t,r)=>{try{(0,i.t8)((0,i.iH)(l,"users/"+n),{admin:!1,cellphone:e.cellphone,email:e.email,location:e.location,name:e.name}).then(()=>{t({isOk:!0,msg:"Saved successfully",extraData:!0})}).catch(e=>{t({isOk:!1,msg:"Error in save: "+e,extraData:!0})})}catch(e){r({isOk:!1,msg:"Error in save to connect in DB: ",extraData:!1})}})}constructor(){}}}},function(e){e.O(0,[481,125,988,518,835,335,839,71,146,971,596,744],function(){return e(e.s=15203)}),_N_E=e.O()}]);