(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{28480:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(13428),i=r(20791),a=r(2265),o=r(57042),l=r(69613),s=r(87947),c=r(43381),m=r(95270),d=r(57437);let x=["className","component"];function h(e={}){let{themeId:t,defaultTheme:r,defaultClassName:h="MuiBox-root",generateClassName:u}=e,p=(0,l.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(s.Z),f=a.forwardRef(function(e,a){let l=(0,m.Z)(r),s=(0,c.Z)(e),{className:f,component:Z="div"}=s,b=(0,i.Z)(s,x);return(0,d.jsx)(p,(0,n.Z)({as:Z,ref:a,className:(0,o.Z)(f,u?u(h):h),theme:t&&l[t]||l},b))});return f}},94998:function(e,t,r){Promise.resolve().then(r.bind(r,48091))},48091:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n=r(57437),i=r(2265),a=r(28480),o=r(25097),l=r(30606),s=r(53469);let c=(0,l.Z)(),m=(0,a.Z)({themeId:s.Z,defaultTheme:c,defaultClassName:"MuiBox-root",generateClassName:o.Z.generate});var d=r(28874),x=r(43226),h=r(62427);class u{static fromJson(e){let t={name:e.name,email:e.email,location:e.location,admin:e.admin,cellphone:e.cellphone};return new u(t)}toJson(){return{name:this.name,email:this.email,location:this.location,admin:this.admin,cellphone:this.cellphone}}constructor(e){this.name=e.name,this.email=e.email,this.location=e.location,this.admin=e.admin,this.cellphone=e.cellphone}}let p=e=>{let t={};for(let r of e)t[r.location]?t[r.location]++:t[r.location]=1;return t},f=e=>{let t=p(e),r=Object.entries(t).sort((e,t)=>t[1]-e[1]),n=r.map(e=>{let[t,r]=e;return{city:t,quantity:r}});return n};function Z(){let[e,t]=(0,i.useState)(!0),[r,a]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),s=new h.L;return((0,i.useEffect)(()=>{let e=async()=>{try{let e=await s.getUsersData(),r=Object.values(e).map(u.fromJson);a(r),l(f(r)),t(!1)}catch(e){console.error("Error fetching users:",e)}};e()},[]),e)?(0,n.jsx)(m,{children:"Loading"}):(0,n.jsxs)(d.ZP,{container:!0,maxWidth:"xl",mx:"auto",columnGap:2,children:[(0,n.jsxs)(d.ZP,{container:!0,item:!0,xs:3,rowGap:2,children:[(0,n.jsxs)(d.ZP,{item:!0,container:!0,bgcolor:"background.paper",p:4,borderRadius:2,direction:"column",rowGap:2,children:[(0,n.jsx)(x.Z,{variant:"h5",color:"GrayText",textAlign:"left",children:"Total de Staffs:"}),(0,n.jsx)(x.Z,{variant:"h2",color:"textPrimary",textAlign:"left",children:r.length-1})]}),(0,n.jsxs)(d.ZP,{container:!0,bgcolor:"background.paper",p:4,borderRadius:2,direction:"column",rowGap:2,children:[(0,n.jsx)(x.Z,{variant:"h5",color:"GrayText",textAlign:"left",children:"Cidades com mais Staffs:"}),o.map((e,t)=>(0,n.jsxs)(d.ZP,{container:!0,item:!0,columnGap:2,rowGap:1,alignItems:"center",children:[(0,n.jsxs)(x.Z,{variant:"body1",color:"textPrimary",textAlign:"left",children:[e.city,":"]}),(0,n.jsx)(x.Z,{variant:"body1",color:"textPrimary",textAlign:"left",fontWeight:700,children:e.quantity})]},t))]})]}),(0,n.jsxs)(d.ZP,{container:!0,item:!0,xs:!0,bgcolor:"background.paper",p:4,borderRadius:2,direction:"column",rowGap:2,children:[(0,n.jsxs)(d.ZP,{container:!0,item:!0,borderBottom:"1px solid",borderColor:"primary.main",children:[(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:"Staff:"})}),(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:"Mora em:"})}),(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:"E-mail:"})}),(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:"Whatsapp:"})})]}),r.map(e=>!e.admin&&(0,n.jsxs)(d.ZP,{container:!0,item:!0,borderBottom:"1px solid",borderColor:"primary.main",children:[(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:e.name})}),(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:e.location})}),(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:e.email})}),(0,n.jsx)(d.ZP,{item:!0,xs:!0,children:(0,n.jsx)(x.Z,{color:"textPrimary",textAlign:"center",mb:1,children:e.cellphone})})]},e.name))]})]})}},62427:function(e,t,r){"use strict";r.d(t,{L:function(){return m}});var n=r(51872),i=r(20994),a=r(42307),o=r(62601);let l={apiKey:o.env.FIREBASE_API_KEY,authDomain:"corre-brasil.firebaseapp.com",databaseURL:"https://corre-brasil-default-rtdb.firebaseio.com",projectId:"corre-brasil",storageBucket:"corre-brasil.appspot.com",messagingSenderId:"888748109483",appId:"1:888748109483:web:687bb797e5f03e903311ee"},s=(0,i.ZF)(l),c=(0,a.N8)(s);class m{async getUsersData(){let e=(0,a.iH)(c,"users/");return new Promise((t,r)=>{try{(0,a.jM)(e,e=>{let r=e.val();r?t(r):t([])})}catch(e){console.log("error in getUserData of user_api:",e),r("Algum erro aconteceu ao fazer o fetch dos usuarios")}})}async registerNewUser(e){let t=(0,n.Z)();return new Promise((r,n)=>{try{(0,a.t8)((0,a.iH)(c,"users/"+t),{admin:!1,cellphone:e.cellphone,email:e.email,location:e.location,name:e.name}).then(()=>{r({isOk:!0,msg:"Saved successfully",extraData:!0})}).catch(e=>{r({isOk:!1,msg:"Error in save: "+e,extraData:!0})})}catch(e){n({isOk:!1,msg:"Error in save to connect in DB: ",extraData:!1})}})}constructor(){}}}},function(e){e.O(0,[481,125,518,835,971,596,744],function(){return e(e.s=94998)}),_N_E=e.O()}]);